<blocks app="Snap! 10-dev, https://snap.berkeley.edu" version="2"><block-definition s="write on stage text %&apos;text&apos; size: %&apos;size&apos; font: %&apos;font&apos; align: %&apos;align&apos; x: %&apos;x&apos; y: %&apos;y&apos; color: %&apos;color&apos;" type="command" category="pen"><comment x="0" y="0" w="90" collapsed="false">Syntax:&#xD;_italics_&#xD;*bold*&#xD;Fraction:&#xD;&#126;(1/2)</comment><header></header><code></code><translations></translations><inputs><input type="%mlt">Hello!</input><input type="%n">12</input><input type="%txt">Arial<options>serif&#xD;sans-serif&#xD;monospace&#xD;Arial&#xD;Arial Black&#xD;Verdana&#xD;Tahoma&#xD;Trebuchet MS&#xD;Impact&#xD;Times New Roman&#xD;Didot&#xD;Georgia&#xD;American Typewriter&#xD;Andalé Mono&#xD;Courier&#xD;Lucida Console&#xD;Monaco&#xD;Bradley Hand&#xD;Brush Script MT&#xD;Luminari&#xD;Comic Sans MS</options></input><input type="%txt" readonly="true">left<options>left&#xD;center&#xD;right</options></input><input type="%n">0</input><input type="%n">0</input><input type="%txt">rgb(0,0,0)</input></inputs><script><custom-block s="do %cs and restore pen"><script><block s="doDeclareVariables"><list><l>text dimensions</l></list></block><block s="doSetVar"><l>text dimensions</l><custom-block s="dimensions of text %mlt size: %n font: %txt align: %txt x: %n y: %n"><block var="text"/><block var="size"/><block var="font"/><block var="align"/><block var="x"/><block var="y"/></custom-block></block><block s="up"></block><block s="gotoXY"><custom-block s="value at key %s of %l"><l>x</l><block var="text dimensions"/></custom-block><custom-block s="value at key %s of %l"><l>y</l><block var="text dimensions"/></custom-block></block><custom-block s="write on stage %mlt size: %n font: %txt color: %txt"><block var="text"/><block var="size"/><block var="font"/><block var="color"/></custom-block></script></custom-block></script></block-definition><block-definition s="dimensions of text %&apos;text&apos; size: %&apos;size&apos; font: %&apos;font&apos; align: %&apos;align&apos; x: %&apos;x&apos; y: %&apos;y&apos;" type="reporter" category="pen" helper="true"><comment x="0" y="0" w="90" collapsed="false">pre-render text transparent to determine height and width and, if necessary, the adjusted coordinates (for right and center alignment)</comment><header></header><code></code><translations></translations><inputs><input type="%mlt">Hello!</input><input type="%n">12</input><input type="%txt">Arial<options>serif&#xD;sans-serif&#xD;monospace&#xD;Arial&#xD;Arial Black&#xD;Verdana&#xD;Tahoma&#xD;Trebuchet MS&#xD;Impact&#xD;Times New Roman&#xD;Didot&#xD;Georgia&#xD;American Typewriter&#xD;Andalé Mono&#xD;Courier&#xD;Lucida Console&#xD;Monaco&#xD;Bradley Hand&#xD;Brush Script MT&#xD;Luminari&#xD;Comic Sans MS</options></input><input type="%txt" readonly="true">left<options>left&#xD;center&#xD;right</options></input><input type="%n">0</input><input type="%n">0</input></inputs><script><block s="doDeclareVariables"><list><l>height</l><l>width</l></list></block><custom-block s="do %cs and restore pen"><script><block s="up"></block><block s="gotoXY"><l>0</l><l>0</l></block><block s="setHeading"><l>90</l></block><custom-block s="write on stage %mlt size: %n font: %txt color: %txt"><block var="text"/><block var="size"/><block var="font"/><l>transparent</l></custom-block><block s="doSetVar"><l>height</l><block s="reportMonadic"><l><option>abs</option></l><block s="yPosition"></block></block></block><block s="doSetVar"><l>width</l><block s="xPosition"></block></block><block s="doIfElse"><block s="reportVariadicEquals"><list><block var="align"/><l>right</l></list></block><script><block s="doChangeVar"><l>x</l><block s="reportVariadicProduct"><list><l>-1</l><block var="width"/></list></block></block></script><script><block s="doIf"><block s="reportVariadicEquals"><list><block var="align"/><l>center</l></list></block><script><block s="doChangeVar"><l>x</l><block s="reportVariadicProduct"><list><l>-0.5</l><block var="width"/></list></block></block></script><list></list></block></script></block></script></custom-block><block s="doReport"><block s="reportNewList"><list><custom-block s="key: %s value: %s"><l>width</l><block var="width"/></custom-block><custom-block s="key: %s value: %s"><l>height</l><block var="height"/></custom-block><custom-block s="key: %s value: %s"><l>x</l><block var="x"/></custom-block><custom-block s="key: %s value: %s"><l>y</l><block var="y"/></custom-block></list></block></block></script></block-definition><block-definition s="write on stage %&apos;text&apos; size: %&apos;size&apos; font: %&apos;font&apos; color: %&apos;color&apos;" type="command" category="pen" helper="true"><header></header><code></code><translations></translations><inputs><input type="%mlt">Hello!</input><input type="%n">12</input><input type="%txt">Arial<options>serif&#xD;sans-serif&#xD;monospace&#xD;Arial&#xD;Arial Black&#xD;Verdana&#xD;Tahoma&#xD;Trebuchet MS&#xD;Impact&#xD;Times New Roman&#xD;Didot&#xD;Georgia&#xD;American Typewriter&#xD;Andalé Mono&#xD;Courier&#xD;Lucida Console&#xD;Monaco&#xD;Bradley Hand&#xD;Brush Script MT&#xD;Luminari&#xD;Comic Sans MS</options></input><input type="%txt">rgb(0,0,0)</input></inputs><script><custom-block s="load fancy text extension"></custom-block><block s="doApplyExtension"><l>ft_write_on_stage(text, size, font, color, sprite)</l><list><block var="text"/><block var="size"/><block var="font"/><block var="color"/><block s="reportGet"><l><option>self</option></l></block></list></block></script></block-definition><block-definition s="load fancy text extension" type="command" category="pen" helper="true"><header></header><code></code><translations></translations><inputs></inputs><script><block s="doApplyExtension"><l>src_load(url)</l><list><l>libraries/microworlds/fancy-text.js</l></list></block></script></block-definition><block-definition s="key: %&apos;key&apos; value: %&apos;value&apos;" type="reporter" category="operators" helper="true"><header></header><code></code><translations>pt:um par (chave: _ , valor: _ )&#xD;</translations><inputs><input type="%s"></input><input type="%s"></input></inputs><script><block s="doReport"><block s="reportNewList"><list><block var="key"/><block var="value"/></list></block></block></script></block-definition><block-definition s="do %&apos;command&apos; and restore pen" type="command" category="pen" helper="true"><header></header><code></code><translations></translations><inputs><input type="%cs"></input></inputs><script><block s="doDeclareVariables"><list><l>old x</l><l>old y</l><l>dir</l><l>pen down?</l><l>old color</l></list></block><block s="doSetVar"><l>old x</l><block s="xPosition"></block></block><block s="doSetVar"><l>old y</l><block s="yPosition"></block></block><block s="doSetVar"><l>dir</l><block s="direction"></block></block><block s="doSetVar"><l>pen down?</l><block s="getPenDown"></block></block><block s="doSetVar"><l>old color</l><block s="getPenAttribute"><l><option>r-g-b-a</option></l></block></block><block s="doRun"><block var="command"/><list></list></block><block s="up"></block><block s="gotoXY"><block var="old x"/><block var="old y"/></block><block s="setHeading"><block var="dir"/></block><block s="doIf"><block var="pen down?"/><script><block s="down"></block></script><list></list></block><block s="setPenColorDimension"><l><option>r-g-b(-a)</option></l><block var="old color"/></block></script></block-definition><block-definition s="value at key %&apos;key&apos; of %&apos;lst&apos;" type="reporter" category="operators" helper="true"><header></header><code></code><translations>pt:o valor com chave _ em _&#xD;</translations><inputs><input type="%s"></input><input type="%l"></input></inputs><script><block s="doWarp"><script><block s="doForEach"><l>each item</l><block var="lst"/><script><block s="doIf"><block s="reportVariadicEquals"><list><block s="reportListItem"><l>1</l><block var="each item"/></block><block var="key"/></list></block><script><block s="doReport"><block s="reportListItem"><l>2</l><block var="each item"/></block></block></script><list></list></block></script></block></script></block><block s="doReport"><l></l></block></script></block-definition></blocks>