<blocks app="Snap! 10-dev, https://snap.berkeley.edu" version="2"><palette><category name="Translations" color="143,0,37,1"/></palette><block-definition s="update custom block translations from translations %&apos;translations&apos;" type="command" category="Translations"><comment x="0" y="0" w="90" collapsed="false">Takes a list of block specs and translations in the format [block label, [language code, translated label]] and uses it to update any custom blocks that match this list.&#xD;&#xD;Translations are saved into the project, so this only needs to be run once when the translations are updated.</comment><header></header><code></code><translations></translations><inputs><input type="%l"></input></inputs><script><block s="doWarp"><script><block s="doDeclareVariables"><list><l>label data</l><l>custom blocks</l></list></block><block s="doSetVar"><l>label data</l><custom-block s="extract %s from translation data %l"><l>label</l><block var="translations"/></custom-block></block><block s="doSetVar"><l>custom blocks</l><block s="reportKeep"><block s="reifyPredicate"><autolambda><block s="reportBlockAttribute"><l><option>custom?</option></l><block s="reifyReporter"><script></script><list></list></block></block></autolambda><list></list></block><block s="reportGet"><l><option>blocks</option></l></block></block></block><block s="doForEach"><l>current label translations</l><block var="label data"/><script><block s="doDeclareVariables"><list><l>all translated labels</l><l>block</l></list></block><block s="doSetVar"><l>all translated labels</l><custom-block s="all translated block labels for %txt from translations %l"><block s="reportListItem"><l>1</l><block var="current label translations"/></block><block var="translations"/></custom-block></block><block s="doSetVar"><l>block</l><block s="reportFindFirst"><block s="reifyPredicate"><autolambda><block s="reportListContainsItem"><block var="all translated labels"/><block s="reportBlockAttribute"><l><option>label</option></l><block s="reifyReporter"><script></script><list></list></block></block></block></autolambda><list></list></block><block var="custom blocks"/></block></block><block s="doIf"><block s="reportNot"><block s="reportVariadicEquals"><list><block var="block"/><l></l></list></block></block><script><block s="doSetBlockAttribute"><l><option>translations</option></l><block var="block"/><block s="reportKeep"><block s="reifyPredicate"><autolambda><block s="reportNot"><block s="reportVariadicEquals"><list><block s="reportListItem"><l>2</l><block var="item"/></block><l></l></list></block></block></autolambda><list><l>item</l></list></block><block s="reportListItem"><l>2</l><block var="current label translations"/></block></block></block></script><list></list></block></script></block></script></block></script></block-definition><block-definition s="extract %&apos;key&apos; from translation data %&apos;translations&apos;" type="reporter" category="Translations"><header></header><code></code><translations></translations><inputs><input type="%s" readonly="true">label<options>label&#xD;inputs</options></input><input type="%l"></input></inputs><script><block s="doDeclareVariables"><list><l>block translation list</l><l>blocks</l></list></block><block s="doSetVar"><l>block translation list</l><block s="reportNewList"><list></list></block></block><block s="doSetVar"><l>blocks</l><custom-block s="extract block translation data from %l"><block var="translations"/></custom-block></block><block s="doForEach"><l>block</l><block var="blocks"/><script><block s="doAddToList"><block s="reportNewList"><list><block s="reportListItem"><l>1</l><block var="block"/></block><block s="reportMap"><block s="reifyReporter"><autolambda><block s="reportNewList"><list><block s="reportListItem"><l>1</l><block var="translation data"/></block><custom-block s="value at key %s of %l"><block var="key"/><block s="reportListItem"><l>2</l><block var="translation data"/></block></custom-block></list></block></autolambda><list><l>translation data</l></list></block><block s="reportListItem"><l>2</l><block var="block"/></block></block></list></block><block var="block translation list"/></block></script></block><block s="doReport"><block var="block translation list"/></block></script></block-definition><block-definition s="extract block translation data from %&apos;translations&apos;" type="reporter" category="Translations"><header></header><code></code><translations></translations><inputs><input type="%l"></input></inputs><script><block s="doDeclareVariables"><list><l>block translation list</l></list></block><block s="doSetVar"><l>block translation list</l><block s="reportNewList"><list></list></block></block><block s="doForEach"><l>language row</l><block var="translations"/><script><block s="doDeclareVariables"><list><l>language code</l><l>blocks</l></list></block><block s="doSetVar"><l>language code</l><block s="reportListItem"><l>1</l><block var="language row"/></block></block><block s="doSetVar"><l>blocks</l><custom-block s="value at key %s of %l"><l>_blocks</l><block s="reportListItem"><l>2</l><block var="language row"/></block></custom-block></block><block s="doIf"><block s="reportIsA"><block var="blocks"/><l><option>list</option></l></block><script><block s="doForEach"><l>block</l><block var="blocks"/><script><block s="doDeclareVariables"><list><l>block label</l><l>block translation</l><l>block translation entries</l></list></block><block s="doSetVar"><l>block label</l><block s="reportListItem"><l>1</l><block var="block"/></block></block><block s="doSetVar"><l>block translation</l><block s="reportListItem"><l>2</l><block var="block"/></block></block><block s="doSetVar"><l>block translation entries</l><custom-block s="value at key %s of %l"><block var="block label"/><block var="block translation list"/></custom-block></block><block s="doIf"><block s="reportNot"><block s="reportIsA"><block var="block translation entries"/><l><option>list</option></l></block></block><script><block s="doSetVar"><l>block translation entries</l><block s="reportNewList"><list></list></block></block></script><list></list></block><block s="doIf"><block s="reportNot"><block s="reportVariadicEquals"><list><block var="block translation"/><l></l></list></block></block><script><block s="doSetVar"><l>block translation list</l><custom-block s="set value %s at key %s of %l"><block s="reportCONS"><block s="reportNewList"><list><block var="language code"/><block var="block translation"/></list></block><block var="block translation entries"/></block><block var="block label"/><block var="block translation list"/></custom-block></block></script><list></list></block></script></block></script><list></list></block></script></block><block s="doReport"><block var="block translation list"/></block></script><scripts><script x="489.15234375" y="151.49999999999994"><block s="reportListItem"><l>2</l><block var="block"/></block></script><script x="403" y="387.49999999999994"><block s="reportIfElse"><block s="reportIsA"><block s="reportListItem"><l>2</l><block var="block"/></block><l><option>text</option></l></block><block s="reportListItem"><l>2</l><block var="block"/></block><custom-block s="value at key %s of %l"><l>label</l><block s="reportListItem"><l>2</l><block var="block"/></block></custom-block></block></script></scripts></block-definition><block-definition s="value at key %&apos;key&apos; of %&apos;lst&apos;" type="reporter" category="operators" helper="true"><header></header><code></code><translations>pt:o valor com chave _ em _&#xD;</translations><inputs><input type="%s"></input><input type="%l"></input></inputs><script><block s="doWarp"><script><block s="doForEach"><l>each item</l><block var="lst"/><script><block s="doIf"><block s="reportVariadicEquals"><list><block s="reportListItem"><l>1</l><block var="each item"/></block><block var="key"/></list></block><script><block s="doReport"><block s="reportListItem"><l>2</l><block var="each item"/></block></block></script><list></list></block></script></block></script></block><block s="doReport"><l></l></block></script></block-definition><block-definition s="set value %&apos;value&apos; at key %&apos;key&apos; of %&apos;list&apos;" type="reporter" category="operators" helper="true"><comment x="0" y="0" w="90" collapsed="false">Inserts or updates the value of the provided key in the given list. Does not modify the original list. Providing an empty value will remove the corresponding key. </comment><header></header><code></code><translations></translations><inputs><input type="%s"></input><input type="%s"></input><input type="%l"></input></inputs><script><block s="doDeclareVariables"><list><l>remaining list</l></list></block><block s="doSetVar"><l>remaining list</l><block s="reportIfElse"><block s="reportIsA"><block var="list"/><l><option>list</option></l></block><block s="reportKeep"><block s="reifyPredicate"><autolambda><block s="reportNot"><block s="reportVariadicEquals"><list><block s="reportListItem"><l>1</l><l/></block><block var="key"/></list></block></block></autolambda><list></list></block><block var="list"/></block><block s="reportNewList"><list></list></block></block></block><block s="doReport"><block s="reportIfElse"><block s="reportVariadicOr"><list><block s="reportVariadicEquals"><list><block var="value"/><l></l></list></block><block s="reportVariadicEquals"><list><block var="key"/><l></l></list></block></list></block><block var="remaining list"/><block s="reportCONS"><custom-block s="key: %s value: %s"><block var="key"/><block var="value"/></custom-block><block var="remaining list"/></block></block></block></script></block-definition><block-definition s="key: %&apos;key&apos; value: %&apos;value&apos;" type="reporter" category="operators" helper="true"><header></header><code></code><translations>pt:um par (chave: _ , valor: _ )&#xD;</translations><inputs><input type="%s"></input><input type="%s"></input></inputs><script><block s="doReport"><block s="reportNewList"><list><block var="key"/><block var="value"/></list></block></block></script></block-definition><block-definition s="all translated block labels for %&apos;label&apos; from translations %&apos;translations&apos;" type="reporter" category="Translations"><header></header><code></code><translations></translations><inputs><input type="%txt"></input><input type="%l"></input></inputs><script><block s="doDeclareVariables"><list><l>label translations</l><l>label data</l></list></block><block s="doSetVar"><l>label translations</l><block s="reportNewList"><list><block var="label"/></list></block></block><block s="doSetVar"><l>label data</l><custom-block s="value at key %s of %l"><block var="label"/><custom-block s="extract %s from translation data %l"><l>label</l><block var="translations"/></custom-block></custom-block></block><block s="doWarp"><script><block s="doIf"><block s="reportIsA"><block var="label data"/><l><option>list</option></l></block><script><block s="doForEach"><l>language</l><block var="label data"/><script><block s="doIf"><block s="reportNot"><block s="reportVariadicEquals"><list><block s="reportListItem"><l>2</l><block var="language"/></block><l></l></list></block></block><script><block s="doAddToList"><block s="reportListItem"><l>2</l><block var="language"/></block><block var="label translations"/></block></script><list></list></block></script></block></script><list></list></block></script></block><block s="doReport"><block var="label translations"/></block></script></block-definition><block-definition s="translate input options with translations %&apos;translations&apos; fallback %&apos;fallback&apos;" type="command" category="Translations"><header></header><code></code><translations></translations><inputs><input type="%code"></input><input type="%txt">en</input></inputs><script><custom-block s="load translations extension"></custom-block><block s="doDeclareVariables"><list><l>input translation data</l></list></block><block s="doSetVar"><l>input translation data</l><custom-block s="extract %s from translation data %l"><l>inputs</l><block var="translations"/></custom-block></block><block s="doApplyExtension"><l>t_translate_input_options(translations, fallback)</l><list><block var="input translation data"/><block var="fallback"/></list></block></script></block-definition><block-definition s="load translations extension" type="command" category="Translations" helper="true"><header></header><code></code><translations></translations><inputs></inputs><script><block s="doApplyExtension"><l>src_load(url)</l><list><l>libraries/microworlds/translations.js</l></list></block></script></block-definition><block-definition s="custom block with label that translates to %label from translations %translations" type="reporter" category="Translations"><header></header><code></code><translations></translations><inputs></inputs><script><block s="doReport"><l></l></block></script></block-definition><block-definition s="add missing translation to %&apos;list&apos; language %&apos;language&apos; key %&apos;string&apos;" type="reporter" category="Translations"><comment x="0" y="0" w="90" collapsed="false">Reports the list of missing translations, including the specified language/key combination. The specified language/string combination is only added if it is not already present.</comment><header></header><code></code><translations></translations><inputs><input type="%l"></input><input type="%s"></input><input type="%s"></input></inputs><script><block s="doSetVar"><l>list</l><block s="reportIfElse"><block s="reportNot"><block s="reportIsA"><block var="list"/><l><option>list</option></l></block></block><block s="reportNewList"><list></list></block><block var="list"/></block></block><block s="doSetVar"><l>list</l><block s="reportIfElse"><block s="reportVariadicIsIdentical"><list><custom-block s="value at key %s of %l"><block var="language"/><block var="list"/></custom-block><l></l></list></block><block s="reportCONS"><block s="reportNewList"><list><block var="language"/><block s="reportNewList"><list></list></block></list></block><block var="list"/></block><block var="list"/></block></block><block s="doSetVar"><l>list</l><block s="reportMap"><block s="reifyReporter"><autolambda><block s="reportIfElse"><block s="reportVariadicEquals"><list><block s="reportListItem"><l>1</l><block var="current language"/></block><block var="language"/></list></block><block s="reportNewList"><list><block s="reportListItem"><l>1</l><block var="current language"/></block><block s="reportIfElse"><block s="reportNot"><block s="reportListContainsItem"><block s="reportListItem"><l>2</l><block var="current language"/></block><block var="string"/></block></block><block s="reportCONS"><block var="string"/><block s="reportListItem"><l>2</l><block var="current language"/></block></block><block s="reportListItem"><l>2</l><block var="current language"/></block></block></list></block><block var="current language"/></block></autolambda><list><l>current language</l></list></block><block var="list"/></block></block><block s="doReport"><block var="list"/></block></script></block-definition><block-definition s="translate %&apos;translation key&apos; from translations %&apos;translations&apos; fallback language %&apos;fallback language&apos; missing handler %&apos;missing handler&apos; placeholders from list %&apos;placeholders&apos;" type="reporter" category="Translations"><comment x="0" y="0" w="206" collapsed="false">Translates the provided key from the list of translations using the following rules:&#xD;Translation in language of Snap! IDE (if translation exists)&#xD;Translation in fallback language (if translation exists)&#xD;If no translations are found, reports the key&#xD;&#xD;Missing handler is an optional command to run when a translation does not exist for the IDE&apos;s current language (e.g. to log strings that need to be translated). It receives two parameters: target language and missing key.&#xD;&#xD;Placeholders is a list of values to substitute into placeholders in the translation string. Placeholders are formatted as $1, $2, etc. The number corresponds to the position of the placeholder in the list, starting from 1 on the left.&#xD;&#xD;It is recommended to wrap this block in another custom block to avoid redundancy.</comment><header></header><code></code><translations></translations><inputs><input type="%txt"></input><input type="%l"></input><input type="%txt">en</input><input type="%s"></input><input type="%l"></input></inputs><script><custom-block s="load translations extension"></custom-block><block s="doIf"><block s="reportNot"><block s="reportIsA"><block var="placeholders"/><l><option>list</option></l></block></block><script><block s="doSetVar"><l>placeholders</l><block s="reportNewList"><list></list></block></block></script><list></list></block><block s="doDeclareVariables"><list><l>translation string</l></list></block><block s="doSetVar"><l>translation string</l><custom-block s="value at key %s of %l"><l>translation string</l><custom-block s="get translation information for %txt from translations %l fallback language %txt missing handler %s"><block var="translation key"/><block var="translations"/><block var="fallback language"/><block var="missing handler"/></custom-block></custom-block></block><block s="doIfElse"><block s="reportIsA"><block var="translation string"/><l><option>text</option></l></block><script><block s="doReport"><block s="reportApplyExtension"><l>t_add_placeholders(string, placeholders)</l><list><block var="translation string"/><block var="placeholders"/></list></block></block></script><script><block s="doReport"><block var="translation string"/></block></script></block></script></block-definition><block-definition s="get translation information for %&apos;translation key&apos; from translations %&apos;translations&apos; fallback language %&apos;fallback language&apos; missing handler %&apos;missing handler&apos;" type="reporter" category="Translations"><comment x="0" y="0" w="335" collapsed="false">Reports the translated string (without filling in the placeholders) and translated language of the provided key from the list of translations using the following rules:&#xD;Translation string in language of Snap! IDE (if translation exists)&#xD;Translation string in fallback language (if translation exists)&#xD;Translation key if no translation is found&#xD;&#xD;Translation language matches the language of the translation string (lagnauge of the IDE or the fallback language if the string has not been translated). If the string is not found in any language, even the fallback language, the translation language is blank.&#xD;&#xD;Missing handler is an optional command to run when a translation does not exist for the IDE&apos;s current language (e.g. to log strings that need to be translated). It receives two parameters: target language and missing key.&#xD;&#xD;You won&apos;t often need to call this block directly unless you need to know the language of the translated string. One posisble use for this is setting the accent for text-to-speech using translated text.</comment><header></header><code></code><translations></translations><inputs><input type="%txt"></input><input type="%l"></input><input type="%txt">en</input><input type="%s"></input></inputs><script><block s="doSetVar"><l>translations</l><block s="reportIfElse"><block s="reportIsA"><block var="translations"/><l><option>list</option></l></block><block var="translations"/><block s="reportNewList"><list></list></block></block></block><block s="doDeclareVariables"><list><l>translation string</l><l>translation language</l></list></block><block s="doSetVar"><l>translation string</l><block var="translation key"/><comment w="80.00000000000001" collapsed="true">If we can&apos;t find a translation for this item, just display teh inmput text</comment></block><block s="doSetVar"><l>translation language</l><l></l></block><block s="doDeclareVariables"><list><l>translation passes</l><l>default language translations</l><l>language translations</l></list></block><block s="doSetVar"><l>default language translations</l><block s="reportIfElse"><block s="reportNot"><block s="reportVariadicEquals"><list><block s="reportTextAttribute"><l><option>length</option></l><custom-block s="value at key %s of %l"><block var="fallback language"/><block var="translations"/></custom-block></block><l>0</l></list></block></block><custom-block s="value at key %s of %l"><block var="fallback language"/><block var="translations"/></custom-block><block s="reportNewList"><list></list></block></block></block><block s="doSetVar"><l>language translations</l><block s="reportIfElse"><block s="reportNot"><block s="reportVariadicEquals"><list><block s="reportTextAttribute"><l><option>length</option></l><custom-block s="value at key %s of %l"><custom-block s="language"></custom-block><block var="translations"/></custom-block></block><l>0</l></list></block></block><custom-block s="value at key %s of %l"><custom-block s="language"></custom-block><block var="translations"/></custom-block><block s="reportNewList"><list></list></block></block></block><block s="doSetVar"><l>translation passes</l><block s="reportKeep"><block s="reifyPredicate"><autolambda><block s="reportNot"><block s="reportVariadicEquals"><list><block s="reportTextAttribute"><l><option>length</option></l><l></l></block><l>0</l></list></block></block></autolambda><list></list></block><block s="reportNewList"><list><block s="reportNewList"><list><block var="fallback language"/><block var="default language translations"/></list></block><block s="reportNewList"><list><custom-block s="language"></custom-block><block var="language translations"/></list></block></list></block></block><comment w="82" collapsed="false">only include language that have translations</comment></block><block s="doForEach"><l>translation pass</l><block var="translation passes"/><script><block s="doDeclareVariables"><list><l>translation string?</l></list></block><block s="doSetVar"><l>translation string?</l><custom-block s="value at key %s of %l"><block var="translation key"/><block s="reportListItem"><l>2</l><block var="translation pass"/></block></custom-block></block><block s="doIf"><block s="reportNot"><block s="reportVariadicEquals"><list><block s="reportTextAttribute"><l><option>length</option></l><block var="translation string?"/></block><l>0</l></list></block></block><script><block s="doSetVar"><l>translation string</l><block var="translation string?"/></block><block s="doSetVar"><l>translation language</l><block s="reportListItem"><l>1</l><block var="translation pass"/></block></block></script><list></list></block></script><comment w="90" collapsed="false">Check if each language has a translation for the given key. </comment></block><block s="doIf"><block s="reportVariadicAnd"><list><block s="reportNot"><block s="reportVariadicEquals"><list><block var="translation language"/><custom-block s="language"></custom-block></list></block></block><block s="reportIsA"><block var="missing handler"/><l><option>command</option></l></block></list></block><script><block s="doRun"><block var="missing handler"/><list><custom-block s="language"></custom-block><block var="translation key"/></list></block></script><list></list><comment w="90" collapsed="false">add comment here...</comment></block><block s="doReport"><block s="reportNewList"><list><custom-block s="key: %s value: %s"><l>translation string</l><block var="translation string"/></custom-block><custom-block s="key: %s value: %s"><l>translation language</l><block var="translation language"/></custom-block></list></block></block></script></block-definition><block-definition s="language" type="reporter" category="Translations"><comment x="0" y="0" w="90" collapsed="false">Reports the language of the Snap! IDE.</comment><header></header><code></code><translations></translations><inputs></inputs><script><block s="doReport"><block s="reportApplyExtension"><l>ide_language</l><list><l></l></list></block></block></script></block-definition><block-definition s="languages in translation %&apos;translation&apos;" type="reporter" category="Translations"><comment x="0" y="0" w="90" collapsed="false">Get a list of languages in the given translation list</comment><header></header><code></code><translations></translations><inputs><input type="%l"></input></inputs><script><block s="doReport"><block s="reportMap"><block s="reifyReporter"><autolambda><block s="reportListItem"><l>1</l><l/></block></autolambda><list></list></block><block var="translation"/></block></block></script></block-definition><block-definition s="IDE labels and languages limit to %&apos;limitLanguages&apos;" type="reporter" category="Translations"><comment x="0" y="0" w="90" collapsed="false">Reports all of the labels and languages built into Snap&apos;s translator. Limits to just a list of language codes, if provided.</comment><header></header><code></code><translations></translations><inputs><input type="%l"></input></inputs><script><block s="doReport"><block s="reportIfElse"><block s="reportIsA"><block var="limitLanguages"/><l><option>list</option></l></block><block s="reportKeep"><block s="reifyPredicate"><autolambda><block s="reportListContainsItem"><block var="limitLanguages"/><block s="reportListItem"><l>2</l><l/></block></block></autolambda><list></list></block><block s="reportApplyExtension"><l>ide_translations</l><list></list></block></block><block s="reportApplyExtension"><l>ide_translations</l><list></list></block></block></block></script></block-definition><block-definition s="dropdown choice %&apos;choice 1&apos; translates to %&apos;choice 2&apos; from translations %&apos;translations&apos;" type="predicate" category="Translations"><comment x="0" y="0" w="224.9999999999999" collapsed="false">Tests whether two dropdown menu choices are equivalent, factoring in translations. Order of choices does not matter.</comment><header></header><code></code><translations></translations><inputs><input type="%txt"></input><input type="%txt"></input><input type="%l"></input></inputs><script><block s="doReport"><custom-block s="dropdown choice %txt translates to %txt from equivalent options %l"><block var="choice 1"/><block var="choice 2"/><custom-block s="extract equivalent dropdown options from %l"><block var="translations"/></custom-block></custom-block></block></script></block-definition><block-definition s="extract equivalent dropdown options from %&apos;translations&apos;" type="reporter" category="Translations"><header></header><code></code><translations></translations><inputs><input type="%l"></input></inputs><script><block s="doWarp"><script><block s="doDeclareVariables"><list><l>equivalent values</l></list></block><block s="doSetVar"><l>equivalent values</l><block s="reportNewList"><list></list></block></block><block s="doForEach"><l>input</l><block s="reportMap"><block s="reifyReporter"><autolambda><block s="reportListItem"><l>2</l><l/></block></autolambda><list></list></block><custom-block s="extract %s from translation data %l"><l>inputs</l><block var="translations"/></custom-block></block><script><block s="doForEach"><l>block</l><block s="reportMap"><block s="reifyReporter"><autolambda><block s="reportListItem"><l>2</l><l/></block></autolambda><list></list></block><block var="input"/></block><script><block s="doIf"><block s="reportIsA"><block var="block"/><l><option>list</option></l></block><script><block s="doForEach"><l>field</l><block var="block"/><script><block s="doDeclareVariables"><list><l>field name</l><l>field options</l><l>current field</l></list></block><block s="doSetVar"><l>field name</l><block s="reportListItem"><l>1</l><block var="field"/></block></block><block s="doSetVar"><l>field options</l><custom-block s="value at key %s of %l"><l>options</l><block s="reportListItem"><l>2</l><block var="field"/></block></custom-block></block><block s="doIf"><block s="reportNot"><block s="reportIsA"><custom-block s="value at key %s of %l"><block var="field name"/><block var="equivalent values"/></custom-block><l><option>list</option></l></block></block><script><block s="doSetVar"><l>equivalent values</l><custom-block s="set value %s at key %s of %l"><block s="reportNewList"><list></list></block><block var="field name"/><block var="equivalent values"/></custom-block></block></script><list></list></block><block s="doSetVar"><l>current field</l><custom-block s="value at key %s of %l"><block var="field name"/><block var="equivalent values"/></custom-block></block><block s="doFor"><l>i</l><l>1</l><block s="reportListAttribute"><l><option>length</option></l><block var="field options"/></block><script><block s="doIf"><block s="reportVariadicLessThan"><list><block s="reportListAttribute"><l><option>length</option></l><block var="current field"/></block><block var="i"/></list></block><script><block s="doAddToList"><block s="reportNewList"><list></list></block><block var="current field"/></block></script><list></list></block><block s="doAddToList"><block s="reportListItem"><block var="i"/><block var="field options"/></block><block s="reportListItem"><block var="i"/><block var="current field"/></block></block></script></block></script></block></script><list></list></block></script></block></script></block></script></block><block s="doReport"><block var="equivalent values"/></block></script></block-definition><block-definition s="dropdown choice %&apos;choice 1&apos; translates to %&apos;choice 2&apos; from equivalent options %&apos;equivalent values&apos;" type="predicate" category="Translations"><comment x="0" y="0" w="224.9999999999999" collapsed="false">Tests whether two dropdown menu choices are equivalent, factoring in translations. Order of choices does not matter.</comment><header></header><code></code><translations></translations><inputs><input type="%txt"></input><input type="%txt"></input><input type="%l"></input></inputs><script><block s="doWarp"><script><block s="doForEach"><l>row</l><block s="reportMap"><block s="reifyReporter"><autolambda><block s="reportListItem"><l>2</l><l/></block></autolambda><list></list></block><block var="equivalent values"/></block><script><block s="doForEach"><l>entry</l><block var="row"/><script><block s="doIf"><block s="reportVariadicAnd"><list><block s="reportListContainsItem"><block var="entry"/><block var="choice 1"/></block><block s="reportListContainsItem"><block var="entry"/><block var="choice 2"/></block></list></block><script><block s="doReport"><block s="reportBoolean"><l><bool>true</bool></l></block></block></script><list></list></block></script></block></script></block><block s="doReport"><block s="reportBoolean"><l><bool>false</bool></l></block></block></script></block></script><scripts><script x="333" y="84.4999999999999"><block s="doDeclareVariables"><list><l>equivalent values</l></list></block><block s="doSetVar"><l>equivalent values</l><block s="reportNewList"><list></list></block></block><block s="doForEach"><l>input</l><block s="reportMap"><block s="reifyReporter"><autolambda><block s="reportListItem"><l>2</l><l/></block></autolambda><list></list></block><custom-block s="extract %s from translation data %l"><l>inputs</l><block var="translations"/></custom-block></block><script><block s="doForEach"><l>block</l><block s="reportMap"><block s="reifyReporter"><autolambda><block s="reportListItem"><l>2</l><l/></block></autolambda><list></list></block><block var="input"/></block><script><block s="doIf"><block s="reportIsA"><block var="block"/><l><option>list</option></l></block><script><block s="doForEach"><l>field</l><block var="block"/><script><block s="doDeclareVariables"><list><l>field name</l><l>field options</l><l>current field</l></list></block><block s="doSetVar"><l>field name</l><block s="reportListItem"><l>1</l><block var="field"/></block></block><block s="doSetVar"><l>field options</l><custom-block s="value at key %s of %l"><l>options</l><block s="reportListItem"><l>2</l><block var="field"/></block></custom-block></block><block s="doIf"><block s="reportNot"><block s="reportIsA"><custom-block s="value at key %s of %l"><block var="field name"/><block var="equivalent values"/></custom-block><l><option>list</option></l></block></block><script><block s="doSetVar"><l>equivalent values</l><custom-block s="set value %s at key %s of %l"><block s="reportNewList"><list></list></block><block var="field name"/><block var="equivalent values"/></custom-block></block></script><list></list></block><block s="doSetVar"><l>current field</l><custom-block s="value at key %s of %l"><block var="field name"/><block var="equivalent values"/></custom-block></block><block s="doFor"><l>i</l><l>1</l><block s="reportListAttribute"><l><option>length</option></l><block var="field options"/></block><script><block s="doIf"><block s="reportVariadicLessThan"><list><block s="reportListAttribute"><l><option>length</option></l><block var="current field"/></block><block var="i"/></list></block><script><block s="doAddToList"><block s="reportNewList"><list></list></block><block var="current field"/></block></script><list></list></block><block s="doAddToList"><block s="reportListItem"><block var="i"/><block var="field options"/></block><block s="reportListItem"><block var="i"/><block var="current field"/></block></block></script></block></script></block></script><list></list></block></script></block></script></block></script></scripts></block-definition><block-definition s="translate input defaults with translations %&apos;translations&apos; fallback %&apos;fallback&apos;" type="command" category="Translations"><header></header><code></code><translations></translations><inputs><input type="%code"></input><input type="%txt">en</input></inputs><script><custom-block s="load translations extension"></custom-block><block s="doDeclareVariables"><list><l>input translation data</l></list></block><block s="doSetVar"><l>input translation data</l><custom-block s="extract %s from translation data %l"><l>inputs</l><block var="translations"/></custom-block></block><block s="doWarp"><script><block s="doForEach"><l>block data</l><block var="input translation data"/><script><block s="doDeclareVariables"><list><l>translated labels</l><l>block</l></list></block><block s="doSetVar"><l>translated labels</l><custom-block s="all translated block labels for %txt from translations %l"><block s="reportListItem"><l>1</l><block var="block data"/></block><block var="translations"/></custom-block></block><block s="doSetVar"><l>block</l><block s="reportFindFirst"><block s="reifyPredicate"><autolambda><block s="reportListContainsItem"><block var="translated labels"/><block s="reportBlockAttribute"><l><option>label</option></l><block s="reifyReporter"><script></script><list></list></block></block></block></autolambda><list></list></block><block s="reportGet"><l><option>blocks</option></l></block></block></block><block s="doIf"><block s="reportNot"><block s="reportVariadicEquals"><list><block var="block"/><l></l></list></block></block><script><block s="doDeclareVariables"><list><l>language data</l><l>defaults</l></list></block><block s="doSetVar"><l>language data</l><block s="reportVariadicOr"><list><custom-block s="value at key %s of %l"><custom-block s="language"></custom-block><block s="reportListItem"><l>2</l><block var="block data"/></block></custom-block><custom-block s="value at key %s of %l"><block var="fallback"/><block s="reportListItem"><l>2</l><block var="block data"/></block></custom-block></list></block></block><block s="doSetVar"><l>defaults</l><block s="reportNewList"><list></list></block></block><block s="doIf"><block s="reportIsA"><block var="language data"/><l><option>list</option></l></block><script><block s="doForEach"><l>slot name</l><custom-block s="slot names of block %repRing"><block var="block"/></custom-block><script><block s="doDeclareVariables"><list><l>slot data</l></list></block><block s="doSetVar"><l>slot data</l><custom-block s="value at key %s of %l"><block var="slot name"/><block var="language data"/></custom-block></block><block s="doIfElse"><block s="reportIsA"><block var="slot data"/><l><option>list</option></l></block><script><block s="doAddToList"><custom-block s="value at key %s of %l"><l>default</l><block var="slot data"/></custom-block><block var="defaults"/></block></script><script><block s="doAddToList"><l></l><block var="defaults"/></block></script></block></script></block><block s="doSetBlockAttribute"><l><option>defaults</option></l><block var="block"/><block var="defaults"/></block></script><list></list></block></script><list></list></block></script></block></script></block></script></block-definition><block-definition s="slot names of block %&apos;block&apos;" type="reporter" category="control" helper="true"><header></header><code></code><translations></translations><inputs><input type="%repRing"></input></inputs><script><custom-block s="load translations extension"></custom-block><block s="doReport"><block s="reportApplyExtension"><l>t_slot_names(block)</l><list><block var="block"/></list></block></block></script></block-definition></blocks>